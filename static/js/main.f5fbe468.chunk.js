(window["webpackJsonpbookmyshow-houm"]=window["webpackJsonpbookmyshow-houm"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),o=(a(16),a(1)),s=a(2),i=a.n(s),u=a(3),d=a(4),p=a(5),m=a(7),y=a(6),b=a(8),f=[{id:1,seats:15,row:"A",start:1,end:15,booked:[1,4,5],type:"CLUB",price:500},{id:2,seats:13,row:"B",start:3,end:15,booked:[3,4,5,6,7,8,9],type:"CLUB",price:500},{id:3,seats:9,row:"C",start:7,end:15,booked:[7,8,9,10,11,13],type:"EXECUTIVE",price:300},{id:4,seats:9,row:"D",start:7,end:15,booked:[14,15],type:"EXECUTIVE",price:300},{id:5,seats:9,row:"E",start:7,end:15,booked:[7,8,9],type:"EXECUTIVE",price:300},{id:6,seats:13,row:"F",start:3,end:15,booked:[3,4,5,6,7,8,9,14,15],type:"NORMAL",price:200},{id:7,seats:13,row:"G",start:3,end:15,booked:[3,4],type:"NORMAL",price:200}],E=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={type:"",booked:[]},a.newseats=function(e,t,n){for(var r=a.props.tickets-t,l=0;l<r;l++)if(e.className+=" select",0!==l){var c=e.parentElement.nextElementSibling&&e.parentElement.nextElementSibling.firstElementChild;c&&!n.includes(c)&&(c.className+=" select",e=c)}},a.selectSeat=function(){var e=Object(u.a)(i.a.mark(function e(t,n){var r,l,c,o,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Array.from(document.querySelectorAll(".booked")),!r.includes(t.target)){e.next=6;break}return e.abrupt("return",t.preventDefault());case 6:return l=a.props.selectedSeats(),c=t.target,e.next=10,a.newseats(c,l,r);case 10:if(l==a.props.tickets||n.type!=a.state.type){for(o=Array.from(document.querySelectorAll(".select")),s=0,u=o;s<u.length;s++)u[s].classList.remove("select");l=a.props.selectedSeats(),a.newseats(c,l,r)}a.setState({type:n.type}),l=a.props.selectedSeats(),a.props.calculatePrice(l,n.price);case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.club,n=t.executive,l=t.normal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",colSpan:"2"},a.length&&"Club - Rs.".concat(a[0].price.toFixed(2))))),r.a.createElement("tbody",null,a&&a.map(function(t){var a=t.start;return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("div",{style:{float:"right"}},t.row)),r.a.createElement("td",{style:{display:"flex"}},1!==t.start&&Object(o.a)(Array(t.start-1)).map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:"4px 7px",width:"30px",height:"30px"}},"\xa0")}),Object(o.a)(Array(t.seats)).map(function(n,l){return r.a.createElement("div",{key:l,style:{padding:"4px 7px"}},r.a.createElement("button",{className:t.booked.includes(a)?"booked":"available",id:"".concat(t.row,"_").concat(a),style:{width:"30px",height:"30px",borderImage:"none",outline:0},key:l,onClick:function(a){return e.selectSeat(a,t)}},a++)," ")})))})),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",colSpan:"2"},n.length&&"Executive - Rs.".concat(n[0].price.toFixed(2))))),r.a.createElement("tbody",null,n&&n.map(function(t){var a=t.start;return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("div",{style:{float:"right"}},t.row)),r.a.createElement("td",{style:{display:"flex"}},1!==t.start&&Object(o.a)(Array(t.start-1)).map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:"4px 7px",width:"30px",height:"30px"}},"\xa0")}),Object(o.a)(Array(t.seats)).map(function(n,l){return r.a.createElement("div",{key:l,style:{padding:"4px 7px"}},r.a.createElement("button",{className:t.booked.includes(a)?"booked":"available",id:"".concat(t.row,"_").concat(t.start),style:{width:"30px",height:"30px",borderImage:"none",outline:0},key:l,onClick:function(a){return e.selectSeat(a,t)}},a++)," ")})))})),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center",colSpan:"2"},l.length&&"Normal - Rs.".concat(l[0].price.toFixed(2)))))," ",r.a.createElement("tbody",null,l&&l.map(function(t){var a=t.start;return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("div",{style:{float:"right"}},t.row)),r.a.createElement("td",{style:{display:"flex"}},1!==t.start&&Object(o.a)(Array(t.start-1)).map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:"4px 7px",width:"30px",height:"30px"}},"\xa0")}),Object(o.a)(Array(t.seats)).map(function(n,l){return r.a.createElement("div",{key:l,style:{padding:"4px 7px"}},r.a.createElement("button",{className:t.booked.includes(a)?"booked":"available",id:"".concat(t.row,"_").concat(t.start),style:{width:"30px",height:"30px",borderImage:"none",outline:0},key:l,onClick:function(a){return e.selectSeat(a,t)}},a++)," ")})))}))))}}]),t}(n.Component),h=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={club:[],executive:[],normal:[],tickets:1,total:0,billReady:!1},a.componentDidMount=Object(u.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.filter(function(e){return"club"===e.type.toLowerCase()});case 2:return t=e.sent,e.next=5,f.filter(function(e){return"executive"===e.type.toLowerCase()});case 5:return n=e.sent,e.next=8,f.filter(function(e){return"normal"===e.type.toLowerCase()});case 8:r=e.sent,a.setState({club:t,executive:n,normal:r});case 10:case"end":return e.stop()}},e)})),a.selectedSeats=function(){return document.getElementsByClassName("select").length},a.calculatePrice=function(e,t){if(e==a.state.tickets){var n=a.state.tickets*t;a.setState({total:n,billReady:!0})}else a.setState({billReady:!1})},a.handleChange=function(e){a.setState({tickets:e.target.value,billReady:!1});for(var t=0,n=Array.from(document.querySelectorAll(".select"));t<n.length;t++){n[t].classList.remove("select")}},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.club,a=e.executive,n=e.normal,l=e.tickets,c=e.total,s=e.billReady;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(E,{club:t,executive:a,normal:n,tickets:l,calculatePrice:this.calculatePrice,selectedSeats:this.selectedSeats}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("label",{style:{paddingBottom:"1rem"},htmlFor:"select-tickets"},"Select Tickets"),r.a.createElement("select",{value:l,onChange:this.handleChange,id:"select-tickets",style:{width:"6rem"}},Object(o.a)(Array(10)).map(function(e,t){return r.a.createElement("option",{key:t,value:++t},"".concat(t++," tickets"))})))),r.a.createElement("div",{style:{alignSelf:"center",paddingTop:"4rem"}},s&&r.a.createElement("button",{style:{fontSize:"1rem",borderImage:"none",outline:0,cursor:"pointer",padding:"1rem 4rem",background:"#0078ff",color:"#fff"}},"Pay Rs.",c)))}}]),t}(n.Component);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null))};c.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f5fbe468.chunk.js.map